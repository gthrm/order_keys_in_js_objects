# Порядок хранения/перечисления ключей в объекте JS

**Объекты** в JS были `'unordered'` до **ES5**.
Начиная с **ES6**, существует предсказуемый порядок итерации свойств объекта.

1. Все неотрицательные целочисленные ключи меньше **2<sup>32</sup>** , в порядке возрастания. (например, `'1'`, `'79'` и т. д.). Обычно, все допустимые индексы массива. _(не отрицательные числа до 2<sup>32</sup>)_.

> _Предостережение_: `'05'` не будет считаться целочисленным ключом, так как целое число, проанализированное из него, даст другое строковое представление.

2. Все строковые ключи в исходном порядке вставки (в том порядке, в котором они были добавлены в объект).

> Здесь будут рассмотрены числовые строки, не попадающие в пределы первого шага и числа с плавающей запятой.

3. Свойства, имена которых являются символами, перечислены в том порядке, в котором они были добавлены в объект.

Если порядок перечисления релевантен, вы всегда можете использовать [Map](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map), который гарантирует, что порядок вставки будет сохранен.

## Функции, перечисляющие свойства в описанном выше порядке с учетом их собственных ограничений

- [`Object.keys()`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/keys)
- [`Object.getOwnPropertyNames()`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames)
- [`Object.getOwnPropertySymbols()`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols)
- [`Reflect.ownKeys()`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Reflect/ownKeys)

> Следует иметь в виду, что порядок перечисления для цикла **for in** не так строго определен, как для функций выше, но он обычно перечисляет собственные свойства в описанном порядке.

> Поскольку цикл **for in** также перечисляет свойства в цепочке прототипов, то после перечисления собственных свойств он будет двигаться _вверх по цепочке прототипов_, перечисляя свойства каждого объекта прототипа _в том же порядке, как описано выше_.

> Если свойство уже **было перечислено**, то любое свойство с тем же именем **не будет** перечислено снова.

> Свойство **не будет** перечислено, даже если уже было рассмотрено неисчислимое свойство с тем же именем.
